<%= javascript_include_tag 'https://cdn.auth0.com/js/lock-8.2.min.js' %>
<%= javascript_tag do %>
  var auth0Lock = new Auth0Lock(<%= ENV['AUTH0_CLIENT_ID'].to_json.html_safe %>,
                                <%= ENV['AUTH0_DOMAIN'].to_json.html_safe %>);

  function signIn() {
    auth0Lock.show({
      callbackURL: <%= ENV['AUTH0_CALLBACK_URL'].to_json.html_safe %>,
      responseType: 'code',
      authParams: {
        scope: 'openid profile'
      }
    });
  }
<% end %>
